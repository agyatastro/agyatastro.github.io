"undefined"!=typeof window&&(window._glob={});const F_ENDPOINT="https://faas-nyc1-2ef2e6cc.doserverless.co/api/v1/namespaces/fn-9893151b-0162-4035-b250-f6a60919b905/actions/form/send?blocking=true&result=true",T="YzViNjU5NDMtMzA2My00MmUwLTg1YzgtYTg5MTkxOTBlNmFlOmZybUI1cFlOdjVCdHlvSWZjZWdVRHd2aDFQZDViOU1DeTVLaU9tMVlTc2tKSDhSNnR5ZGF6Z1cxV3NqZEtoano=",NAKSHATRAS=["Ashwini","Bharani","Krittika","Rohini","Mrigashira","Ardra","Punarvasu","Pushya","Aslesha","Magha","Purva Phalguni","Uttara Phalguni","Hastha","Chitra","Swathi","Visakha","Anuradha","Jyeshta","Moola","Poorvashada","Utharashada","Sravana","Dhanishta","Satabhisha","Poorvabhadrapada","Uttarabhadrapada","Revathi"],DEFAULT_HOUSES=[1,2,3,4,5,6,7,8,9,10,11,12],PLANET_COLOR_CODE={Ju:"#bdb304",Su:"#6e2a03",Mo:"#808080",Ve:"#d980c0",Ma:"#610505",Me:"#07520f",Sa:"#03081a",Ra:"#030382",Ke:"#e8102d"},PLANET_SHORT_CODES={Jupiter:"Ju",Sun:"Su",Moon:"Mo",Venus:"Ve",Mars:"Ma",Mercury:"Me",Saturn:"Sa","Rahu Mean":"Ra","Ketu Mean":"Ke"},ZODIACS=["Aries","Taurus","Gemini","Cancer","Leo","Virgo","Libra","Scorpio","Saggitarius","Capricorn","Aquarius","Pisces"];var getDynamicXCords=(t,a,e)=>{var n=[0,30,30,60,60,90,90,120,120];return[0,1,5,6,7,11].includes(t)?a%2==0?e-n[a]:e+n[a]:e},getDynamicYCords=(t,a,e)=>{var n=[0,30,30,60,60,90,90,120,120];return[2,3,4,8,9,10].includes(t)?a%2==0?e-n[a]:e+n[a]:e},getZodiacName=t=>ZODIACS[t-1],getNakshatras=t=>(t=t.toFixed(2),NAKSHATRAS[Math.ceil(t/13.33)-1]),getPadas=t=>Math.ceil(t.toFixed(3)%13.33/3.334),populator=function(t){const a=t=>Math.floor(t)+"°"+Math.round(60*(t-Math.floor(t)))+"'";return t.populate=()=>{var t=window.localStorage?JSON.parse(window.localStorage.getItem("chart")):window._glob.chart;const e=$(".celebrity_data"),n=e.find(".dob .data"),o=e.find(".tob .data"),i=e.find(".location .data"),r=e.find(".rating .data"),s=e.find(".lat .data"),l=e.find(".long .data"),c=$(".about-celebrity");if(c&&c.hide(),t.request)if(t.request.location&&i.text(t.request.location),t.request.agyat_rating&&r.text(t.request.agyat_rating),t.request.hour&&o.text(`${(h=t.request).hour.toString().padStart(2,"0")}:${h.minute.toString().padStart(2,"0")}`),t.request.day&&n.text((t=>`${t.day.toString().padStart(2,"0")}/${t.month.toString().padStart(2,"0")}/${t.year}`)(t.request)),t.request.latitude&&s.text((t=>`${a(t.latitude)}`)(t.request)),t.request.longitude&&l.text((t=>`${a(t.longitude)}`)(t.request)),t.request.about){var d=c.find("p");d&&d.html(t.request.about.replace(/\n/g,"<br/><br/>")),c.show()}else c.hide();var h},Object.defineProperty(t,"__esModule",{value:!0}),t}({}),bhava_chalit=function(t){"use strict";var a=15,e={},n=t=>{e=t,o()},o=()=>{a=e.response.ascendant.asc_deg},i=()=>{var t=[[],[],[],[],[],[],[],[],[],[],[],[]],n=e.response.planets,o={};for(var i in n){var r=n[i].degree,s=a-15<0?a-15+360:a-15;if(r>s){var l=Math.ceil((r-s)/30);o[i]=l,PLANET_SHORT_CODES[i]&&t[l-1].push(PLANET_SHORT_CODES[i])}else{l=Math.ceil((360-s+r)/30);o[i]=l,PLANET_SHORT_CODES[i]&&t[l-1].push(PLANET_SHORT_CODES[i])}}return t},r={init:n,getBhavaChalit:i};return t.init=n,t.getBhavaChalit=i,t.drawSvgBhavaPlanets=t=>{var a=SVG(t);const e=i();for(var n=[[390,240],[240,150],[150,240],[250,390],[150,540],[240,630],[390,540],[540,630],[640,540],[540,390],[640,240],[540,150]],o=0;o<e.length;o++)for(var r=0;r<e[o].length;r++){var s=e[o][r];a.text((function(t){t.tspan(s).size(20)})).font({size:20,fill:PLANET_COLOR_CODE[s]||"#bdb304",anchor:"middle"}).move(getDynamicXCords(o,r,n[o][0]),getDynamicYCords(o,r,n[o][1]))}},t.default=r,Object.defineProperty(t,"__esModule",{value:!0}),t}({});const qr=function(t){var a={address:"deepika.bhati4@okhdfcbank",name:"Agyat Astrology",currency:"INR",amount:0,transaction_notes:"Consultation Fee"};htmlOpts={width:300,height:300,type:"svg",image:"/images/AgyatOnecopy.png",shape:"circle",dotsOptions:{color:"#f75757",type:"dots"},backgroundOptions:{color:"#f5f8f9"},cornersSquareOptions:{type:"extra-rounded"},cornersDotOptions:{type:"extra-rounded"},imageOptions:{crossOrigin:"anonymous",margin:5}};const e=t=>`upi://pay?pa=${(t={...a,...t}).address}&pn=${t.name}&am=${t.amount}&cu=INR&tn=${t.transaction_notes}`,n=t=>encodeURI(t);return t.generate=t=>"undefined"==typeof QRCodeStyling?void console.error("Unable to initialize, QRCodeStyling library is missing"):new QRCodeStyling({...htmlOpts,data:n(e(t))}),Object.defineProperty(t,"__esModule",{value:!0}),t}({});var panchanga=function(t){const a=["Ekam","Dwitiya","Tritiya","Chaturthi","Panchami","Shashthi","Saptami","Ashthami","Navami","Dashmi","Ekadashi","Dwadashi","Trayodashi","Chaturdashi","Poornima","Ekam","Dwitiya","Tritiya","Chaturthi","Panchami","Shashthi","Saptami","Ashthami","Navami","Dashmi","Ekadashi","Dwadashi","Trayodashi","Chaturdashi","Amavasya"];const e=t=>{var a=["Bava","Bālava","Kaulava","Taitila","Gara","Vaṇij","Vṛṣṭi"];return 57==t?"Śakuni":58==t?"Catuṣpāda":59==t?"Nāga":0==t?"Kimstughna":(t-1)%7==0?a[0]:a[(t-1)%7]},n=t=>{const n=$(".sunrise"),o=$(".sunset"),i=$(".moonrise"),r=$(".moonset"),s=$(".tithi"),l=$(".nakshatra"),c=($(".yoga"),$(".karana")),d=$(".weekday"),h=$(".month");var u,g;t&&(n.text(t.sunrise[1].slice(0,2).join(":")),o.text(t.sunset[1].slice(0,2).join(":")),i.text(t.moonrise[1].slice(0,2).join(":")),r.text(t.moonset[1].slice(0,2).join(":")),s.text(`${a[(g=t).tithi[0]-1]} (${g.tithi[0]<=14?"Shukla Paksha":"Krishna Paksha"}) upto ${g.tithi[1].slice(0,2).join(":")}`),l.text(`${u=t.lunar_longitude,u=u.toFixed(2),NAKSHATRAS[Math.ceil(u/13.33)-1]}`),c.text(`${(t=>`${e(t)}-${e(t+1)}`)(t.karana[0])}`),d.text(`${t.vaara}`),h.text(`${t.masa[0]}`))};return t.init=async(t,a=17.4,e=78.47)=>{var o;axios&&await axios.get("https://ephemeris.agyat.one/api/v1/panchanga",{params:{dt:(o=(new Date).toLocaleDateString("en-US",{month:"2-digit",day:"2-digit",year:"numeric"}).split("/"),`${o[2]}-${o[0]}-${o[1]}`),lat:a,long:e}},{headers:{"Content-Type":"application/json"}}).then((function(t){console.log(t),n(t.data)})).catch((function(t){console.log(t),$(".alert-danger").length&&$(".alert-danger").show(500)}))},t.populate=n,Object.defineProperty(t,"__esModule",{value:!0}),t}({});!function(t){"use strict";0!==t(".testimonial-wrap").length&&t(".testimonial-wrap").slick({slidesToShow:2,slidesToScroll:2,infinite:!0,dots:!0,arrows:!1,autoplay:!0,autoplaySpeed:6e3,responsive:[{breakpoint:1024,settings:{slidesToShow:1,slidesToScroll:1,infinite:!0,dots:!0}},{breakpoint:900,settings:{slidesToShow:1,slidesToScroll:1}},{breakpoint:600,settings:{slidesToShow:1,slidesToScroll:1}},{breakpoint:480,settings:{slidesToShow:1,slidesToScroll:1}}]}),t(window).width()<992&&t("#navbar .dropdown-toggle").on("click",(function(){t(this).siblings(".dropdown-menu").animate({height:"toggle"},300)})),t(window).on("scroll",(function(){if(t("#scroll-to-top").length){var a=t("#scroll-to-top");t(window).scrollTop()>=200?a.fadeIn(200):a.fadeOut(100)}})),t("#scroll-to-top").length&&t("#scroll-to-top").on("click",(function(){return t("body,html").animate({scrollTop:0},600),!1})),0!==t(".portfolio-gallery").length&&t(".portfolio-gallery").each((function(){t(this).find(".popup-gallery").magnificPopup({type:"image",gallery:{enabled:!0}})})),0!==t(".counter-stat").length&&t(".counter-stat").counterUp({delay:10,time:1e3});var a=(t,a)=>{const e="#F75757";var n="Chart Title";a&&(n=a);var o=SVG().addTo(t).size(400,400);o.polygon("400, 100 250, 250 400, 400 550, 250").fill("none").stroke({color:e,width:2}),o.polygon("100 100, 250 250, 400 100").fill("none").stroke({color:e,width:2}),o.polygon("100 400, 250 250, 100 100").fill("none").stroke({color:e,width:2}),o.polygon("250 250,100 400,250 550,400 400").fill("none").stroke({color:e,width:2}),o.polygon("100 400,250 550,100 700").fill("none").stroke({color:e,width:2}),o.polygon("100 700,250 550,400 700").fill("none").stroke({color:e,width:2}),o.polygon("400 400,250 550,400 700,550 550").fill("none").stroke({color:e,width:2}),o.polygon("400 700,550 550,700 700").fill("none").stroke({color:e,width:2}),o.polygon("700 400,550 550,700 700").fill("none").stroke({color:e,width:2}),o.polygon("550 250,700 400,550 550,400 400").fill("none").stroke({color:e,width:2}),o.polygon("700 100,550 250,700 400").fill("none").stroke({color:e,width:2}),o.polygon("400 100,550 250,700 100").fill("none").stroke({color:e,width:2});return o.text(n).font({size:30,fill:e,anchor:"middle"}).move(100,60),o.text("© Agyat.One Ephemeris").font({size:40,fill:e,opacity:.1,anchor:"middle"}).move(210,375),o.text("© Agyat.One Ephemeris").font({fill:e,anchor:"middle"}).move(530,700),o.text("Agyat.One Astrology").font({size:10,fill:e,anchor:"middle"}).move(110,685),o.text("Agyat.One Astrology").font({size:10,fill:e,anchor:"middle"}).move(110,680).transform({rotate:270,translateX:-50,translateY:-50,scale:1}),o.text("Agyat.One Astrology").font({size:10,fill:e,anchor:"middle"}).move(600,100),o.text("Agyat.One Astrology").font({size:10,fill:e,anchor:"middle"}).move(700,200).transform({rotate:270,translateX:-50,translateY:-50,scale:1}),o.transform({scale:1}),o.viewbox(0,0,800,800),o},e=(t,a)=>{a=a||1;for(var e=DEFAULT_HOUSES.slice(a-1).concat(DEFAULT_HOUSES.slice(0,a-1)),n=[[390,350],[240,210],[210,240],[360,390],[210,540],[240,570],[390,420],[540,570],[580,540],[430,390],[580,240],[540,210]],o=0;o<e.length;o++)t.text(e[o]).font({size:20,fill:"#F75757",anchor:"middle"}).move(n[o][0],n[o][1])},n=(a,e)=>{var n=[[],[],[],[],[],[],[],[],[],[],[],[]];return t.each(e,(function(t,e){PLANET_SHORT_CODES[t]&&n[o(e.zodiac,a)].push(PLANET_SHORT_CODES[t])})),n},o=(t,a)=>t>=a?t-a:12-a+t,i=t=>Math.floor(t)+"°"+Math.round(60*(t-Math.floor(t)))+"'",r="In Birth chart (Janam Kundli) of <strong>NAME</strong> : <strong>Ascendant</strong> is ASC_SIGN, <strong>Moon</strong> is in sign of Mo_SIGN, <strong>Sun</strong> is in sign of Su_SIGN, <strong>Mars</strong> is in sign of Ma_SIGN, <strong>Mercury</strong> is in sign of Me_SIGN, <strong>Venus</strong> is in sign of Ve_SIGN, <strong>Jupiter</strong> is in sign of Ju_SIGN and <strong>Saturn</strong> is in sign of Sa_SIGN. <br/> While <strong>Rahu</strong> is in sign of Ra_SIGN and <strong>Ketu</strong> is in sign of Ke_SIGN.",s=a=>{document.querySelector('meta[name="description"]').setAttribute("content",a);const e=t(".about-kundli p");e&&e.html(a)},l=o=>{var l;t("#snap").empty();var c=(l=window.localStorage?JSON.parse(window.localStorage.getItem("chart")):window._glob.chart).response,d=a("#snap","Lagna Chart"),h=c.ascendant.ascendant;o&&(h=o),e(d,h),((t,a,e)=>{const o=n(t,e);for(var i=[[390,240],[240,150],[150,240],[250,390],[150,540],[240,630],[390,540],[540,630],[640,540],[540,390],[640,240],[540,150]],r=0;r<o.length;r++)for(var s=0;s<o[r].length;s++){var l=o[r][s];a.text((function(t){t.tspan(l).size(20)})).font({size:20,fill:PLANET_COLOR_CODE[l]||"#bdb304",anchor:"middle"}).move(getDynamicXCords(r,s,i[r][0]),getDynamicYCords(r,s,i[r][1]))}})(h,d,c.planets),(a=>{var e=a.response;const n=t("#table");var o=[];r=(r=r.replace("NAME",`${a.request.name}`)).replace("ASC_SIGN",`${getZodiacName(e.ascendant.ascendant)} (${getNakshatras(e.ascendant.asc_deg)})`),o.push({planet:"Asc",house:"1st",zodiac:getZodiacName(e.ascendant.ascendant),cusp_degree:i((e.ascendant.asc_deg%30).toFixed(2)),motion:"",nakshatra:getNakshatras(e.ascendant.asc_deg),pada:getPadas(e.ascendant.asc_deg)}),t.each(e.planets,(function(t,a){var e;PLANET_SHORT_CODES[t]&&(r=r.replace(`${PLANET_SHORT_CODES[t]}_SIGN`,`${getZodiacName(a.zodiac)} (${getNakshatras(a.degree)})`)),o.push({planet:t,house:(e=a.house,["1st","2nd","3rd","4th","5th","6th","7th","8th","9th","10th","11th","12th"][e-1]),zodiac:getZodiacName(a.zodiac),cusp_degree:i(a.cusp_degree.toFixed(2)),motion:a.motion,nakshatra:getNakshatras(a.degree),pada:getPadas(a.degree)})})),s(r),n.bootstrapTable({}),n.bootstrapTable("load",o),n.show()})(l)};window.redraw=l,t((function(){if(t(".controls_table")&&t(".controls_table").hide(),t("input[type='date'].chart-dob").length){var n=new Date,o=[n.getFullYear(),(n.getMonth()+1).toString().padStart(2,"0"),n.getDate().toString().padStart(2,"0")].join("-"),i=[n.getHours().toString().padStart(2,"0"),n.getMinutes().toString().padStart(2,"0")].join(":");t("input[type='text'].chart-name").val("Jatak"),t("input[type='date'].chart-dob").val(o),t("input[type='time'].chart-tob").val(i),t("input[name='lat']").val(26.91962),t("input[name='long']").val(75.78781),t(".location-finder").val("Jaipur"),setTimeout((function(){t("#birth-chart-form")&&t("#birth-chart-form").submit()}),300)}if(t("#snap").length){var r=a("#snap","Lagna Chart");e(r)}if(t("#snap1").length){var s=a("#snap1","Bhava Chalit");e(s)}var c=async function(a){await axios.post(F_ENDPOINT,a,{headers:{"Content-Type":"application/json",Authorization:`Basic ${T}`}}).then((function(a){t(".alert-success").length&&t(".alert-success").show(500)})).catch((function(a){console.log(a),t(".alert-danger").length&&t(".alert-danger").show(500)}))},d=n=>{axios.get("https://ephemeris.agyat.one/api/v1/chart",{params:n}).then((function(n){const o=n.data.chart;n.data.chart&&(window.localStorage?window.localStorage.setItem("chart",JSON.stringify(o)):window._glob.chart=JSON.stringify(o),l(),(n=>{var o;t("#snap1").empty();var i=(o=window.localStorage?JSON.parse(window.localStorage.getItem("chart")):window._glob.chart).response.ascendant.ascendant;n&&(i=n);var r=a("#snap1","Bhava Chalit");e(r,i),bhava_chalit.init(o),bhava_chalit.drawSvgBhavaPlanets("#snap1 svg")})())})).catch((function(t){console.debug(t),alert("Sorry, Could not load the chart. Try Again")}))};if(t("#birth-chart-form").submit((a=>{a.preventDefault();var e={};t.each(t("#birth-chart-form").serializeArray(),(function(t,a){e[a.name]=a.value})),console.debug("Form Values: ",e),d(e)})),t("#subscription").on("submit",(t=>{t.preventDefault();const a=new FormData(document.getElementById("subscription")),e=Object.fromEntries(a);c(e)})),t("#consltation-form").on("submit",(function(t){t.preventDefault();const a=new FormData(document.getElementById("consltation-form")),e=Object.fromEntries(a);console.debug(e),c(e)})),t("#contactFormSubmit").on("click",(function(t){t.preventDefault();const a=new FormData(document.getElementById("contact-form")),e=Object.fromEntries(a);console.debug(e);var n={from_name:e.name,from_email:e.email,message:e.message};c(n)})),t(".dynamicCopyrightYear").replaceWith((new Date).getFullYear()),t(".data-bank").length){var h=t(".data-bank").data("bank-name");h&&axios.get(`/data/${h}.json`).then((function(t){const a=t.data;t.data&&(window.localStorage?window.localStorage.setItem("chart",JSON.stringify(a)):window._glob.chart=JSON.stringify(a),l())})).catch((function(t){console.debug(t),console.error("Sorry, Could not load the Data bank. Try Again")}))}(t("div .data-bank-search input").on("keyup",(function(){var a=t(this).val();if(a.length){var e=window.idx.search(a),n=t("ul.searchresults");if(0===e.length)n.hide();else{for(var o in n.empty(),e){var i=e[o].ref,r=i.split("-").join(" ").split(" ").map((t=>t[0].toUpperCase()+t.slice(1))).join(" "),s='<li><a href="/kundli/bank/'+i+'/">'+r+"</a></li>";n.append(s)}n.show()}}else n.empty()})),axios.get("/lunr/databank.json").then((function(t){window.idx=lunr((function(){this.field("name"),this.ref("page"),this.field("text"),t.data.forEach((function(t){this.add(t)}),this)}))})).catch((function(t){console.debug(t),console.error("Sorry, Could not load the Search Results. Try Again")})),t("#qrcode-quick-consult").length)&&qr.generate({amount:1100,transaction_notes:"Quick Consultation Fee"}).append(document.getElementById("qrcode-quick-consult"));t("#qrcode-consult").length&&qr.generate({amount:2100,transaction_notes:"Consultation Fee (One Area)"}).append(document.getElementById("qrcode-consult"));t("#qrcode-premium-consult").length&&qr.generate({amount:3100,transaction_notes:"Premium Consultation Fee"}).append(document.getElementById("qrcode-premium-consult"));t(".location-finder").length&&(t(".location-finder").select2({width:"style",placeholder:"Select Place of Birth",ajax:{url:"https://ephemeris.agyat.one/api/v1/cities",dataType:"json",data:function(t){return{loc:t.term}},processResults:function(a){console.log("locData ",a);var e=t.map(a.record,(function(t){return t.id=`${t.lat}-${t.lng}`,t.text=t.name,t}));return console.log("data ",e),{results:e}}}}),t(".location-finder").on("select2:select",(function(a){var e=t(".location-finder").select2("data");t("input[name='lat']").val(e[0].lat),t("input[name='long']").val(e[0].lng),t("input[name='location']").val(e[0].name)}))),window.location.pathname.includes("/panchanga")&&(panchanga.init(),t(".location-finder-panchang").length&&t(".location-finder-panchang").select2({width:"style",placeholder:"Select City",ajax:{url:"https://ephemeris.agyat.one/api/v1/cities",dataType:"json",data:function(t){return{loc:t.term}},processResults:function(a){console.log("locData ",a);var e=t.map(a.record,(function(t){return t.id=`${t.lat}-${t.lng}`,t.text=t.name,t}));return console.log("data ",e),{results:e}}}}),t("#panchang-form").on("submit",(function(a){a.preventDefault();var e=t(".location-finder-panchang").select2("data");console.log("Panchanga",t(".location-finder-panchang").select2("data")),e.length&&panchanga.init(new Date,e[0].lat,e[0].lng)})))}))}(jQuery);
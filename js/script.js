!function(t){"use strict";window._glob={};const o=["Ashwini","Bharani","Krittika","Rohini","Mrigashira","Ardra","Punarvasu","Pushya","Aslesha","Magha","Purva Phalguni","Uttara Phalguni","Hastha","Chitra","Swathi","Visakha","Anuradha","Jyeshta","Moola","Poorvashada","Utharashada","Sravana","Dhanishta","Satabhisha","Poorvabhadrapada","Uttarabhadrapada","Revathi"],e=[1,2,3,4,5,6,7,8,9,10,11,12],a={Ju:"#bdb304",Su:"#6e2a03",Mo:"#808080",Ve:"#d980c0",Ma:"#610505",Me:"#07520f",Sa:"#03081a",Ra:"#030382",Ke:"#e8102d"},n={Jupiter:"Ju",Sun:"Su",Moon:"Mo",Venus:"Ve",Mars:"Ma",Mercury:"Me",Saturn:"Sa","Rahu Mean":"Ra","Ketu Mean":"Ke"},r=["Aries","Taurus","Gemini","Cancer","Leo","Virgo","Libra","Scorpio","Saggitarius","Capricorn","Aquarius","Pisces"];var i=t=>(t=t.toFixed(2),o[Math.ceil(t/13.33)-1]),l=t=>Math.ceil(t.toFixed(3)%13.33/3.334);0!==t(".testimonial-wrap").length&&t(".testimonial-wrap").slick({slidesToShow:2,slidesToScroll:2,infinite:!0,dots:!0,arrows:!1,autoplay:!0,autoplaySpeed:6e3,responsive:[{breakpoint:1024,settings:{slidesToShow:1,slidesToScroll:1,infinite:!0,dots:!0}},{breakpoint:900,settings:{slidesToShow:1,slidesToScroll:1}},{breakpoint:600,settings:{slidesToShow:1,slidesToScroll:1}},{breakpoint:480,settings:{slidesToShow:1,slidesToScroll:1}}]}),t(window).width()<992&&t("#navbar .dropdown-toggle").on("click",(function(){t(this).siblings(".dropdown-menu").animate({height:"toggle"},300)})),t(window).on("scroll",(function(){if(t("#scroll-to-top").length){var o=t("#scroll-to-top");t(window).scrollTop()>=200?o.fadeIn(200):o.fadeOut(100)}})),t("#scroll-to-top").length&&t("#scroll-to-top").on("click",(function(){return t("body,html").animate({scrollTop:0},600),!1})),0!==t(".portfolio-gallery").length&&t(".portfolio-gallery").each((function(){t(this).find(".popup-gallery").magnificPopup({type:"image",gallery:{enabled:!0}})})),0!==t(".counter-stat").length&&t(".counter-stat").counterUp({delay:10,time:1e3});var s=()=>{const t="#F75757";var o=SVG().addTo("#snap").size(800,800);o.polygon("400, 100 250, 250 400, 400 550, 250").fill("none").stroke({color:t,width:2}),o.polygon("100 100, 250 250, 400 100").fill("none").stroke({color:t,width:2}),o.polygon("100 400, 250 250, 100 100").fill("none").stroke({color:t,width:2}),o.polygon("250 250,100 400,250 550,400 400").fill("none").stroke({color:t,width:2}),o.polygon("100 400,250 550,100 700").fill("none").stroke({color:t,width:2}),o.polygon("100 700,250 550,400 700").fill("none").stroke({color:t,width:2}),o.polygon("400 400,250 550,400 700,550 550").fill("none").stroke({color:t,width:2}),o.polygon("400 700,550 550,700 700").fill("none").stroke({color:t,width:2}),o.polygon("700 400,550 550,700 700").fill("none").stroke({color:t,width:2}),o.polygon("550 250,700 400,550 550,400 400").fill("none").stroke({color:t,width:2}),o.polygon("700 100,550 250,700 400").fill("none").stroke({color:t,width:2}),o.polygon("400 100,550 250,700 100").fill("none").stroke({color:t,width:2});return o.text("© Agyat.One Ephemeris").font({size:40,fill:t,opacity:.1,anchor:"middle"}).move(210,375),o.text("© Agyat.One Ephemeris").font({fill:t,anchor:"middle"}).move(530,700),o.text("Agyat.One Astrology").font({size:10,fill:t,anchor:"middle"}).move(110,685),o.text("Agyat.One Astrology").font({size:10,fill:t,anchor:"middle"}).move(110,680).transform({rotate:270,translateX:-50,translateY:-50,scale:1}),o.text("Agyat.One Astrology").font({size:10,fill:t,anchor:"middle"}).move(600,100),o.text("Agyat.One Astrology").font({size:10,fill:t,anchor:"middle"}).move(700,200).transform({rotate:270,translateX:-50,translateY:-50,scale:1}),o.transform({scale:1}),o},c=(t,o)=>{o=o||1;for(var a=e.slice(o-1).concat(e.slice(0,o-1)),n=[[390,350],[240,210],[210,240],[360,390],[210,540],[240,570],[390,420],[540,570],[580,540],[430,390],[580,240],[540,210]],r=0;r<a.length;r++)t.text(a[r]).font({size:20,fill:"#F75757",anchor:"middle"}).move(n[r][0],n[r][1])},d=(o,e)=>{var a=[[],[],[],[],[],[],[],[],[],[],[],[]];return t.each(e,(function(t,e){n[t]&&a[h(e.zodiac,o)].push(n[t])})),console.log("extractPlanets",a),a},h=(t,o)=>(console.log("getHouseByZodiac",t,o,t-o,12-o+1),t>=o?t-o:12-o+t),g=(t,o,e)=>{var a=[0,30,30,60,60,90,90,120,120];return[0,1,5,6,7,11].includes(t)?o%2==0?e-a[o]:e+a[o]:e},u=(t,o,e)=>{var a=[0,30,30,60,60,90,90,120,120];return[2,3,4,8,9,10].includes(t)?o%2==0?e-a[o]:e+a[o]:e},p=t=>r[t-1],f=t=>Math.floor(t)+"°"+Math.round(t%Math.floor(t)*60)+"'",m=o=>{t("#snap").empty();var e=(window.localStorage?JSON.parse(window.localStorage.getItem("chart")):window._glob.chart).response,r=s(),h=e.ascendant.ascendant;o&&(h=o),c(r,h),((t,o,e)=>{const n=d(t,e);for(var r=[[390,240],[240,150],[150,240],[250,390],[150,540],[240,630],[390,540],[540,630],[640,540],[540,390],[640,240],[540,150]],i=0;i<n.length;i++)for(var l=0;l<n[i].length;l++){var s=n[i][l];o.text((function(t){t.tspan(s).size(20)})).font({fill:a[s]||"#bdb304",anchor:"middle"}).move(g(i,l,r[i][0]),u(i,l,r[i][1]))}})(h,r,e.planets),(o=>{const e=t("#table");var a=[];a.push({planet:"Asc",house:"1st",zodiac:p(o.ascendant.ascendant),cusp_degree:f((o.ascendant.asc_deg%30).toFixed(2)),motion:"",nakshatra:i(o.ascendant.asc_deg),pada:l(o.ascendant.asc_deg)}),t.each(o.planets,(function(t,o){var e;n[t]&&a.push({planet:t,house:(e=o.house,["1st","2nd","3rd","4th","5th","6th","7th","8th","9th","10th","11th","12th"][e-1]),zodiac:p(o.zodiac),cusp_degree:f(o.cusp_degree.toFixed(2)),motion:o.motion,nakshatra:i(o.degree),pada:l(o.degree)})})),console.log("data",a),e.bootstrapTable({}),e.bootstrapTable("load",a),e.show()})(e)};window.redraw=m,t((function(){if(t(".controls_table")&&t(".controls_table").hide(),t("input[type='date'].chart-dob").length){var o=new Date,e=[o.getFullYear(),(o.getMonth()+1).toString().padStart(2,"0"),o.getDate().toString().padStart(2,"0")].join("-"),a=[o.getHours().toString().padStart(2,"0"),o.getMinutes().toString().padStart(2,"0")].join(":");t("input[type='text'].chart-name").val("Jatak"),t("input[type='date'].chart-dob").val(e),t("input[type='time'].chart-tob").val(a),setTimeout((function(){t("#birth-chart-form")&&t("#birth-chart-form").submit()}),300)}if(t("#snap").length){var n=s();c(n)}emailjs.init({publicKey:"ObsW-Ld16OF4X46C6"});var r=async function(o){await axios.post("https://faas-nyc1-2ef2e6cc.doserverless.co/api/v1/namespaces/fn-9893151b-0162-4035-b250-f6a60919b905/actions/form/send?blocking=true&result=true",o,{headers:{"Content-Type":"application/json",Authorization:"Basic YzViNjU5NDMtMzA2My00MmUwLTg1YzgtYTg5MTkxOTBlNmFlOmZybUI1cFlOdjVCdHlvSWZjZWdVRHd2aDFQZDViOU1DeTVLaU9tMVlTc2tKSDhSNnR5ZGF6Z1cxV3NqZEtoano="}}).then((function(o){console.log(o),t("#consltation-form").hide(500),t(".submission_complete").show(500)})).catch((function(t){console.log(t)}))};t("#birth-chart-form").submit((o=>{o.preventDefault();var e,a={};t.each(t("#birth-chart-form").serializeArray(),(function(t,o){a[o.name]=o.value})),console.debug("Form Values: ",a),e=a,axios.get("https://ephemeris.agyat.one/api/v1/chart_by_loc",{params:e}).then((function(t){const o=t.data.chart;t.data.chart&&(window.localStorage?window.localStorage.setItem("chart",JSON.stringify(o)):window._glob.chart=JSON.stringify(o),m())})).catch((function(t){console.debug(t),alert("Sorry, Could not load the chart. Try Again")}))})),t("#subscription").on("submit",(t=>{t.preventDefault(),console.log("subscription");const o=new FormData(document.getElementById("subscription")),e=Object.fromEntries(o);r(e)})),t("#consltation-form").on("submit",(function(t){t.preventDefault();const o=new FormData(document.getElementById("consltation-form")),e=Object.fromEntries(o);console.debug(e),r(e)})),t("#contactFormSubmit").on("click",(function(t){t.preventDefault();const o=new FormData(document.getElementById("contact-form")),e=Object.fromEntries(o);console.debug(e);var a={from_name:e.name,from_email:e.email,message:e.message};r(a)})),t(".dynamicCopyrightYear").replaceWith((new Date).getFullYear())}))}(jQuery);